const catalogo = {
    branca: {
        nome: "Faixa Branca",
        chutes: [],
        basicos: [
            { titulo: "Todos os B√°sicos", videoId: "1x3oJugXzZtdygLZSW8CKZZOB3fR0Gvq0" }
        ],
        taolus: []
    },
    amarela: {
        nome: "Faixa Amarela",
        chutes: [
            {
                titulo: "LoÃÑi Bai Leen Toi ‚Äì Batendo na M√£o",
                videoId: "1S4FjotZLvj90tSWmD8MbBrDaktVvSu9p"
            },
            {
                titulo: "Tin Toi ‚Äì Perna da Frente",
                videoId: "1M57iZX-OrZgcY_idQnKayMcAvFmQiipd"
            },
            {
                titulo: "Tin Toi ‚Äì Perna de Tr√°s",
                videoId: "1Bff9nf8AEiCWNJc6ac5E_nfJnyMBahZW"
            },
            {
                titulo: "Jaat Hay Dan Toi ‚Äì Sobrepasso",
                videoId: "10DdlH-bN_oSoibtdJH17OjBWt2MiUgQT"
            },
            {
                titulo: "Jaat Hay Baan Toi ‚Äì Sobrepasso",
                videoId: "1zpHFMMCpzKBerJw-4ea435jPHIaLfcEv"
            },
            {
                titulo: "Jaat Hay Chang Toi ‚Äì Sobrepasso",
                videoId: "1uaNOkvaH3QkLRMJ30kSxeR6QJcWXEmVw"
            }
        ],
        basicos: [
            { titulo: "1¬∫ Fu Jow", videoId: "1IiPlyJPJdvRIM16roaNJPt3Yqc1bDhm0" },
            { titulo: "2¬∫ Choy Lahp", videoId: "1iQzBN5Pno0g7Abfc_stYCHlILSDZBEr7" },
            { titulo: "3¬∫ Yum Jern", videoId: "1-kj_bmJPNQqJNBQkGIAi-r02Y1p90rPO" },
            { titulo: "4¬∫ Fahn Jong Choy", videoId: "1S4vZc8ih5npmWvU91Pr1qnYPhWDoRSoL" },
            { titulo: "5¬∫ Cup Choy", videoId: "1Dq0GLfezPz03fWr5CHqUhKlxYZaU0jpw" },
            { titulo: "6¬∫ Poon Kue Sow Choy", videoId: "1gPnAHTkqkHZtdZsq-Wtifob6e8FPRTaR" },
            { titulo: "7¬∫ Gwa Choy Cum Jern", videoId: "1mlk-d7zCgKpJqMRnp5neak6P4VFOW3s3" },
            { titulo: "8¬∫ Gwa Choy Pow Choy", videoId: "1bILRi5dZfjydi3_y7L8BZPk0yB8W3pqh" },
            { titulo: "9¬∫ Been Choy", videoId: "1pm4MfsR0eL4Gv2eNNiN-c05YBKMN5UDB" },
            { titulo: "10¬∫ Loong Kue", videoId: "1b6SbRLDRHx-fRxmn1Mr-N3RmSq0chylN" }
        ],
        taolus: [
            { titulo: "Gay Boon Kyun Yee", videoId: "1CxV0z6PtNfQg5L6gXI8lrRvsfJouMXmU" },
            { titulo: "Gay Boon Ma Bo Yee", videoId: "17qlphhCq7w1d01XVCk5Dz3aIvtJ5EGSo" }
        ]
    },
    laranja: {
        nome: "Faixa Laranja",
        chutes: [],
        basicos: [
            { titulo: "01 - Kwan Sao", videoId: "1Dl2rz6xqVtWdGpkCB3EAQq1yrgIAutT8" },
            { titulo: "02 - Kong Jerng", videoId: "1Fg_96B0lSH344ntI8yUCJLwqz70SDeqC" },
            { titulo: "03 - Gong Jerng", videoId: "1We471FlYx9QGwsXeHwLRaosZAC3L6kI_" },
            { titulo: "04 - Chin Lah/Dahn Lah", videoId: "1JXiOLu9BK233IJrC4FzKSRa-xfNSg_77" },
            { titulo: "05 - Pak Sao/Yam Kiu", videoId: "1uU4BQnzFbi_WR3DNzZcoC9Msq3DgcJdm" },
            { titulo: "06 - Cum Jerng/Gout Sao", videoId: "17oUUSofI6BeGEEoLsI7qAjvB6NFUadRU" },
            { titulo: "07 - Gwa/Pao/Gwa/Sao", videoId: "1Q0pOV0juQ650ojpfUv9wmUqUO4_6TwkX" },
            { titulo: "08 - Tsin Choy", videoId: "1655k7mGlsVUtlN2m2AB7FnjxN8hL2kVM" },
            { titulo: "09 - Pie Jah/Big Jah/Pow Jah/Chong Jah", videoId: "1Khldu2MaQfb3OzZmGpb9GO_uCoVk7x0b" },
            { titulo: "10 - Wang Deng Choy", videoId: "1wDzRJvZ3LVazmt9YidIFy3VfE3sK7nAq" }
        ],
        taolus: [
            { titulo: "Ng Lun Kyun (Var. 1)", videoId: "1oroM0dj3xkVEuY65MPQjD-LL172D-5Jj" },
            { titulo: "Ng Lun Kyun (Var. 2)", videoId: "1cTvDuLAnRQLglfEm-iL1rBBXN-gbOqUx" },
            { titulo: "Ng Lun Kyun (Var. 3)", videoId: "14eVCJqj_wdKHXbzMUs9J4XnK7xRrd7Ar" }
        ]
    },
    jade: { nome: "Faixa Jade", chutes: [], basicos: [], taolus: [] },
    verde: { nome: "Faixa Verde", chutes: [], basicos: [], taolus: [] },
    roxa: {
        nome: "Faixa Roxa",
        chutes: [],
        basicos: [
            { titulo: "1¬∫ B√°sico", videoId: "1cF8m0Goi-QnWNPoIhaix8JprWmgrGZbz" },
            { titulo: "2¬∫ B√°sico", videoId: "1YFzDYpfAMeCRekphbhejXTvQWqTBMcfe" },
            { titulo: "3¬∫ B√°sico", videoId: "1TY0uhKUJMYKjDNSNplU2zwiSZ3NbgalW" },
            { titulo: "4¬∫ B√°sico", videoId: "1bku9_Zm1gkX9Nr738hCGs9Q4SlpB7gpt" },
            { titulo: "5¬∫ B√°sico", videoId: "1OvnGwOjdfuPw2jXhohQVCrPuIXXGzXiU" }
        ],
        taolus: [
            { titulo: "Mui Fah Bin Gwai Kwun", videoId: "1bAmoJcsTlAjbIy7rc4HBgKoqgs_V8crV" },
            { titulo: "Ng Lun Ma", videoId: "10g66RWyygomS_-_NcKvoJoCOwf-VRFma" }
        ]
    },
    vermelha: {
        nome: "Faixa Vermelha",
        chutes: [
            { titulo: "1¬∫ Passo Chute em Curva Saltando", videoId: "1JiqTp1f4YVI4vFAZslUhplbmkaK4uBdw" },
            { titulo: "2¬∫ Furac√£o Batendo na M√£o", videoId: "1bVRsXGO7KOBvQh3jGPgLe8sWIFrwJXx6" },
            { titulo: "3¬∫ Furac√£o com Peito do P√©", videoId: "1zJ3uFzMZBBmysoNBQjTu5Min__7qtgZ3" },
            { titulo: "4¬∫ Facada do P√© por Tr√°s Saltando", videoId: "1sl4oSMCPeB9jS_33cSdR3arxY17Vjfs7" },
            { titulo: "5¬∫ Passo Facada do P√© por Tr√°s Saltando", videoId: "1UoRwu4t37UzlXIq1ACICLOOwCC3Ji0NS" }
        ],
        basicos: [
            { titulo: "1¬∫ B√°sico (Outro √Çngulo)", videoId: "1PJkZiDZC659gzFF8tKiD7NjCK-zIpPF0" },
            { titulo: "1¬∫ B√°sico", videoId: "1xuTPVEXm5J2_WtFb_KY-rGWTzCkhMU0r" },
            { titulo: "2¬∫ B√°sico", videoId: "1ibHjZmIL6dPMTeVdMRx2qbYieOlXsV1L" },
            { titulo: "3¬∫ B√°sico", videoId: "1KIES1Zl2HXya3yNX-ziJhnkTVyC9VDKG" },
            { titulo: "4¬∫ B√°sico", videoId: "19l_pVAZI_W7l4boe0C7Rh_88eGBi7YfW" },
            { titulo: "5¬∫ B√°sico", videoId: "1eQYJYkCtfBU1w2Qfyan1bOuSZgONGrGH" }
        ],
        taolus: [
            { titulo: "Ching Jong", videoId: "15Lvm_o9Gj74WKnh4wSxHCXyzYOIJbBBy" },
            { titulo: "Tut Tsen Kyun", videoId: "1G6G4zn2xNtbCiy7yACfIn5F2DP4C8wgJ" }
        ]
    },
    marrom_claro: { nome: "Faixa Marrom Claro", chutes: [], basicos: [], taolus: [] },
    marrom_escuro: { nome: "Faixa Marrom Escuro", chutes: [], basicos: [], taolus: [] },
    preta: { nome: "Faixa Preta", chutes: [], basicos: [], taolus: [] }
};

const app = document.getElementById("app");

function home() {
    app.innerHTML = `
    <div class="grid">
      ${Object.keys(catalogo).map(id => {
        const f = catalogo[id];
        const temVideo = f.chutes.length > 0 || f.basicos.length > 0 || f.taolus.length > 0;
        const classe = temVideo ? `card faixa-${id}` : `card disabled faixa-${id}`;
        const clique = temVideo ? `onclick="faixa('${id}')"` : "";
        return `<div class="${classe}" ${clique}>
                  <div class="card-content">${f.nome}</div>
                </div>`;
    }).join("")}
    </div>
  `;
}

function faixa(id) {
    const f = catalogo[id];
    app.innerHTML = `
    <div class="back" onclick="home()">‚Üê Voltar</div>
    <h2>${f.nome}</h2>

    ${categoria("Chutes", f.chutes, id)}
    ${categoria("B√°sicos", f.basicos, id)}
    ${categoria("Taolu¬¥s", f.taolus, id)}
  `;
}

function categoria(nome, videos, faixaId) {
    if (!videos || videos.length === 0) {
        return `
      <div class="section">
        <h3>${nome}</h3>
        <div class="empty-state">üé• Em breve: Conte√∫do em prepara√ß√£o...</div>
      </div>
    `;
    }
    return `
    <div class="section">
      <h3>${nome}</h3>
      <div class="row">
        ${videos.map(v =>
        `<div class="video-card" onclick="player('${v.videoId}','${v.titulo}', '${faixaId}')">
            <strong>${v.titulo}</strong>
          </div>`
    ).join("")}
      </div>
    </div>
  `;
}

function player(id, titulo, faixaId) {
    app.innerHTML = `
    <div class="back" onclick="faixa('${faixaId}')">‚Üê Voltar</div>
    <h2>${titulo}</h2>

    <div class="player">
      <iframe
        src="https://drive.google.com/file/d/${id}/preview"
        allow="autoplay; fullscreen"
        allowfullscreen>
      </iframe>
    </div>
  `;
}

home();

// L√≥gica do Tema
const themeBtn = document.getElementById("theme-btn");
const body = document.body;

// Carregar prefer√™ncia salva
const savedTheme = localStorage.getItem("theme");
if (savedTheme === "light") {
    body.classList.add("light-theme");
    themeBtn.textContent = "üåô Escuro";
}

function toggleTheme() {
    body.classList.toggle("light-theme");
    const isLight = body.classList.contains("light-theme");

    themeBtn.textContent = isLight ? "üåô Escuro" : "‚òÄÔ∏è Claro";
    localStorage.setItem("theme", isLight ? "light" : "dark");
}
